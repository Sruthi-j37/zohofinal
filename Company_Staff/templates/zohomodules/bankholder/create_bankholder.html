{% extends 'base.html' %}
{% block content %}
{% load static %}

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
<div class="body-wrapper">
    <div class="container-fluid">
        <nav aria-label="breadcrumb"> 
            <ol class="breadcrumb">
                {% if log_id.user_type == 'Staff' %} <li class="breadcrumb-item"><a href="{% url 'staff_dashboard' %}" class="text-warning-emphasis">Dashboard</a></li>{% endif %}
                {% if log_id.user_type == 'Company' %} <li class="breadcrumb-item"><a href="{% url 'company_dashboard' %}" class="text-warning-emphasis">Dashboard</a></li>{% endif %}
                 <li class="breadcrumb-item"><a href="{% url 'list_bankholder' %}" class="text-warning-emphasis">Bankholder_list</a></li>
                 <li class="breadcrumb-item" aria-current="page">Create_bankholder</li>
        </nav>
        <div class="row mt-5">
            <div class="col-md-12">
                <div class="card mb-3 bg-black shadow p-3 mb-5 rounded" style="max-width: 1200px;">
                    <div class="row mt-4">
                        <section>
                            <div class="container pl-5" style="color:white;">
                                <div class="header">
                                    <h2 style="text-align: center;color:white;">CREATE BANK HOLDER</h2>
                                    <hr class="text-warning font-weight-bold">
                                    {% for message in messages %}
                                    <h5>
                                        <div class="alert alert-danger message">
                                            {{ message }}
                                        </div>
                                    </h5>
                                    {% endfor %}
                                </div>
                                <form method="POST" action="{% url 'create_bankholder' %}" enctype="multipart/form-data" id="myForm" >
                                    {% csrf_token %}
                                    <div class="row">
                                        <div class="left col-lg-6 col-sm-6">
                                            <h4 class="text-center py-2 text-light">Bank Account Holder Form</h4>
                                            <div class="row pb-3">
                                                
                                                <div class="col-4">
                                                    <label for="">Name</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="text" class="form-control text-dark bg-light" name="customer_name" id="customer_name" required >
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Alias</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="text" class="form-control text-dark bg-light" name="alias" id="alias" required >
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Contact Number</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="number" class="form-control text-dark bg-light" name="phone_number" id="phone_number" required 
                                                        onkeyup="phoneValidate(document.getElementById('phone'),document.getElementById('pherror'))">
                                                    <div id="pherror" class="text-danger"></div>
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Email</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="email"  class="form-control text-dark bg-light" name="email" id="email"
                                                        required onkeyup="emailvalidate()">
                                                    <div id="error" class="text-danger"></div>
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Account Type</label>
                                                </div>
                                                <div class="col-8">
                                                    <select class="form-control text-dark bg-light" name="account_type" id="dropId3" required>
                                                        <option value="" selected >Select</option>
                                                        <option value="BankAccount">Bank Account</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-sm-6">
                                            <h4 class="text-center py-2 text-light">Bank Account Form</h4>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Bank Name</label>
                                                </div>
                                                <div class="col-6">
                                                    <select  class="form-control text-dark bg-light" name="bankname" id="bankname"  >
                                                        <option value="">--Select Bank--</option>
                                                    </select>                      
                                                </div>
                                                <div class="col-2">
                                                    <a class="btn btn-outline-warning py-2" style="cursor: pointer;" data-toggle="modal" data-target="#bank" style="height: 38px; margin-right: 3px;">+</a>
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Account Number</label>
                                                </div>
                                                <div class="col-8">
                                                    <select class="form-control text-dark bg-light" name="account_number" id="account_number"  >
                                                        <option value="">--Select AccountNumber--</option>
                                                    </select>                      
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">IFSC Code</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="text" class="form-control text-dark bg-light" name="ifsc_code" id="ifsc_code" required >
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Swift Code</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="text" class="form-control text-dark bg-light" name="swift_code" id="swift_code" required >
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Branch Name</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="text" class="form-control text-dark bg-light" name="branch_name" id="branch_name" required >
                                                </div>
                                            </div>  
                                        </div>
                                    </div>
                                    <br><br>
                                    <div class="row">
                                        <div class="left col-lg-6 col-sm-6">
                                            <h4 class="text-center py-2 text-light">Bank Configuration Form</h4>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Check Book Range</label>
                                                </div>
                                                <div class="col-8">
                                                    <select class="form-select text-dark bg-light" name="c_range" id="c_range">
                                                        <option value="" hidden>Select</option>
                                                        <option value="Yes">Yes</option>
                                                        <option value="No">No</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Enable Check Print</label>
                                                </div>
                                                <div class="col-8">
                                                    <select class="form-select text-dark bg-light" name="c_print" id="c_print">
                                                        <option value="" hidden>Select</option>
                                                        <option value="Yes">Yes</option>
                                                        <option value="No">No</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Check Print Configuration</label>
                                                </div>
                                                <div class="col-8">
                                                    <select class="form-select text-dark bg-light" name="c_print_confg" id="c_print_confg">
                                                        <option value="" hidden>Select</option>
                                                        <option value="Yes">Yes</option>
                                                        <option value="No">No</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <br><br>
                                            <h4 class="text-center py-2 text-light">Tax Registration Form</h4>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Pan Number</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="text" class="form-control text-dark bg-light" name="itn" pattern="^[A-Z]{5}[0-9]{4}[A-Z]$" placeholder="ABCDE0051C">
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Registration Type</label>
                                                </div>
                                                <div class="col-8">
                                                    <select name="id_registration_type" id="id_registration_type" class="form-control text-dark bg-light">
                                                        <option value="">Select</option>
                                                        <option value="regular">Regular</option>
                                                        <option value="composition">Composition</option>
                                                        <option value="consumer">Consumer</option>
                                                        <option value="unregistered">Unregistered</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">GST Number</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="text" id="id_gstin_un" name="id_gstin_un" class="form-control text-dark bg-light"  required>
                                                                            <!-- pattern="^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$" -->
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Alter GST Details</label>
                                                </div>
                                                <div class="col-8">
                                                    <select class="form-select text-dark bg-light" name="alt_gst" id="alt_gst">
                                                        <option value="" hidden>Select</option>
                                                        <option value="[Yes]">Yes</option>
                                                        <option value="[No]">No</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-sm-6">
                                            <h4 class="text-center py-2 text-light">Mailing Address Form</h4>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Mailing Name</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="text" class="form-control text-dark bg-light" name="m_name" id="m_name" required >
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Address</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="text" class="form-control text-dark bg-light" name="m_address" id="m_address" required >
                                                </div>
                                                
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Country</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="text" class="form-control text-dark bg-light" name="m_country" id="m_country" required >
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">State</label>
                                                </div>
                                                <div class="col-8">
                                                    <select type="text" class="form-select text-dark bg-light" id="m_state" name="m_state">
                                                        <option value="" hidden>Select State</option>
                                                        <option value="[AN]-Andaman And Nicobar Islands">[AN]-Andaman And Nicobar Islands</option> <option value="[AD]-Andhra Pradesh">[AD]-Andhra Pradesh</option>
                                                        <option value="[AR]-Arunachal Pradesh">[AR]-Arunachal Pradesh	</option> <option value="volvo">[AS]-Assam</option>
                                                        <option value="[BR]-Bihar">[BR]-Bihar</option> <option value="volvo">[CH]-	Chandhigarh</option><option value="[CG]-Chattisgarh">[CG]-Chattisgarh</option>
                                                        <option value="[DD]-Daman Diu">[DD]-Daman Diu</option><option value="volvo">[DL]-	Delhi</option><option value="[GA]-Goa">[GA]-Goa</option> <option value="[GJ]-Gujarat">[GJ]-Gujarat</option>
                                                        <option value="[HR]-Haryana">[HR]-Haryana</option> <option value="[HP]-Himachal Pradesh">[HP]-Himachal Pradesh</option>
                                                        <option value="[JK]-Jammu And Kashmir">[JK]-Jammu And Kashmir</option><option value="[JH]-Jharkand">[JH]-Jharkand</option>
                                                        <option value="[KA]-Karnataka">[KA]-Karnataka</option><option value="[KL]-Kerala">[KL]-Kerala</option>
                                                        <option value="[LA]-Ladakh">[LA]-Ladakh</option><option value="[LD]-Lakshadweep">[LD]-Lakshadweep</option>
                                                        <option value="[MP]-Madhyapradesh">[MP]-Madhyapradesh</option><option value="[MH]-Maharashtra">[MH]-Maharashtra</option>
                                                        <option value="[MN]-Manipur">[MN]-Manipur</option>  <option value="[ML]-Meghalaya">[ML]-Meghalaya</option>
                                                        <option value="[MZ]-Mizoram">[MZ]-Mizoram</option> <option value="[NL]-Nagaland">[NL]-Nagaland</option> <option value="[NL]-Nagaland">[NL]-Nagaland</option>
                                                        <option value="[OD]-Odisha">[OD]-Odisha</option><option value="[PY]-Puducherry">[PY]-Puducherry</option>
                                                        <option value="[PB]-Punjab">[PB]-Punjab.</option><option value="[RL]-Rajasthan">[RL]-Rajasthan</option>
                                                        <option value="[SK]-Sikkim">[SK]-Sikkim</option><option value="[TN]-Tamilnadu">[TN]-Tamilnadu</option>
                                                        <option value="[TS]-Telenghana">[TS]-Telenghana</option><option value="[TR]-Tripura">[TR]-Tripura</option><option value="[UP]-Uttar Pradesh">[UP]-Uttar Pradesh</option>
                                                        <option value="[UK]-Utharakhand">[UK]-Utharakhand</option><option value="[WB]-West Bengal">[WB]-West Bengal</option>
                                                        <option value="[OT]-Other Territory">[OT]-Other Territory</option>
                                                    </select></div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Pin Code</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="text" class="form-control text-dark bg-light" name="m_pin" id="m_pin" required >
                                                </div>
                                            </div>
                                            <br><br>
                                            <h4 class="text-center py-2 text-light">Opening Balance Form</h4>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Date</label>
                                                </div>
                                                <div class="col-8">
                                                    <input type="date" class="form-control text-dark bg-light" name="date" id="date" required >
                                                </div>
                                            </div>
                                            <div class="row pb-3">
                                                <div class="col-4">
                                                    <label for="">Amount</label>
                                                </div>
                                                <div class="col-3">
                                                    <select class="form-select text-dark bg-light" name="tamt" id="tamt">
                                                        <option value="" hidden>Select</option>
                                                        <option value="debit">Debit</option>
                                                        <option value="credit">Credit</option>
                                                    </select>
                                                </div>
                                                <div class="col-5">
                                                    <input type="number" class="form-control text-dark bg-light" id="amount" name="amount" required>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br>
                                    <br>
                                </div>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div class="col-md-6 form-check">
                                            <input type="checkbox" class="form-check-input" id="termsCheckbox" name="terms" required>
                                            <label class="form-check-label" for="termsCheckbox">Agree to terms and conditions</label>
                                        </div>
                                        <div class="col-md-6" style="text-align: center;">
                                            <div class="col-md-12 text-center">
                                                <button class="btn text-light" type="submit" style="background-color: chocolate; width: 150px; font-size: medium;" onclick="validateform()">Add</button>
                                                <button class="btn btn-danger" type="reset" style="background-color: chocolate; width: 150px; font-size: medium;" onclick="goToTop()">Cancel</button>
                                            </div>
                                        </div>
                                    </div>
                                    <br><br>
                                </form>
                                

                            </div>
                        </section>
                    </div>
                </div>
            </div>

<!-- -------Modal------------------------bank------------------------------------------- -->
            <div class="modal fade" id="bank" style="margin-top: 7vh;">
                <div class="modal-dialog ">
                    <div class="modal-content" style="background: rgb(32, 35, 37);border-radius: 20px;">
                        <div class="modal-header">
                            <h5 class="modal-title text-light" id="excelModalLabel">Add Bank</h5>
                            <button type="button" class="btn close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true" style="font-size: x-large;">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body" style="background: rgb(32, 35, 37);">
                            <div class="card">
                                <form action="" method="post" class="needs-validation" novalidate autocomplete="off" id="bankform">
                                {% csrf_token %}
                                    <div class="form-group mt-3" style="margin-left: 2vh;">
                                        <div class="row">
                                            <div class="col-md-3 mt-2">
                                                <label for="lday" style="font-size: medium; color: black;">Bank Name </label> <br><br>
                                            </div>
                                            <div class="col-md-8" style="margin-left: 2vh;">
                                                <input type="number" class="form-control text-dark bg-white" name="bnk_name" id="bnk_name">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-3 mt-2">
                                                <label for="lday" style="font-size: medium; color: black;">Account Number </label> <br><br>
                                            </div>
                                            <div class="col-md-8" style="margin-left: 2vh;">
                                                <input type="number" class="form-control text-dark bg-white" name="bnk_acno" id="bnk_acno">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-3 mt-2">
                                                <label for="lday" style="font-size: medium; color: black;">IFSC Code </label> <br><br>
                                            </div>
                                            <div class="col-md-8" style="margin-left: 2vh;">
                                                <input type="number" class="form-control text-dark bg-white" name="bnk_ifsc" id="bnk_ifsc">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-3 mt-2">
                                                <label for="lday" style="font-size: medium; color: black;">Branch Name </label> <br><br>
                                            </div>
                                            <div class="col-md-8" style="margin-left: 2vh;">
                                                <input type="number" class="form-control text-dark bg-white" name="bnk_branch" id="bnk_branch">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn text-center pt-2 btn-outline-warning" data-dismiss="modal" id="durationsave">Submit</button>
                                        <button type="button" class="btn text-center pt-2 btn-outline-warning" data-dismiss="modal">Close</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>  
            </div>  
            
            <!---modal of bank durationend-->
        <script>
            var defaultDate = new Date();

            // Formatting the date to YYYY-MM-DD
            var formattedDate = defaultDate.toISOString().split('T')[0];

            // Setting the value of the input field
            document.getElementById("date").value = formattedDate;
        </script>
        <script>
            async function uploadBlood() {
                const form = document.getElementById('blood1'); // Adjust the form ID if needed
                const formData = new FormData(form);
        
        
                
               var response = await fetch('add_blood', {
                    method: 'POST',
                    body: formData
                })
                if(response.ok){
                    var result=await response.json()
                    console.log(result.message)
                    alert(result.message)
                    document.getElementById('blood1').reset();
                    var newOption = document.createElement("option");
        
                // Set the value and text for the new option
                    newOption.value = result.blood;
                    newOption.text = result.blood;

                    // Add the new option to the select dropdown
                    document.getElementById("blood").appendChild(newOption);
                }
            }
        </script>
       
        
        
        <script>
            function validateform() {
                var sal = document.getElementById('sal').value;
                var amnthr = document.getElementById('amnthr').value;
                var hours = document.getElementById('hours').value;
                var fsalary = document.getElementById('fsalary').value;
        
                var dropId = document.getElementById('dropId').value;
                var acc_no = document.getElementById('acc_no').value;
                var ifsc = document.getElementById('ifsc').value;
                var b_name = document.getElementById('b_name').value;
                var branch = document.getElementById('branch').value;
                var ttype = document.getElementById('ttype').value;
        
                var tds = document.getElementById('tds').value;
                var pora = document.getElementById('pora').value;
                var pcnt = document.getElementById('pcnt').value;
                var amnt = document.getElementById('amnt').value;
        
                if (sal === 'Variable'){
                    if (amnthr === ''){
                        alert('Add Amount per Hour');
                        return false;
                    }
                    if (hours === ''){
                        alert('Add Total Amount Worked');
                        return false;
                    }
                }else{
                    if (fsalary === ''){
                        alert('Add Salary');
                        return false;
                    }
                }
        
                if (dropId === '1'){
                    if (acc_no === ''){
                        alert('Add an Account Number');
                        return false;
                    }
                    if (ifsc === ''){
                        alert('Add IFSC code');
                        return false;
                    }
                    if (b_name === ''){
                        alert('Add Bank Name');
                        return false;
                    }
                    if (branch === ''){
                        alert('Add Branch Name');
                        return false;
                    }
                    if (ttype === ''){
                        alert('Select a Transaction Type');
                        return false;
                    }
                }
        
                if (tds === '1'){
                    if (pora === ''){
                        alert('Select TDS Amount Type');
                        return false;
                    }else if(pora === 'Percentage'){
                        if (pcnt === ''){
                            alert('Add Percentage of TDS');
                            return false;
                        }
                    }else if(pora === 'Amount'){
                        if (amnt === ''){
                            alert('Add TDS Amount');
                            return false;
                        }
                    }
                }
        
                return true; 
            }
        </script>
        
        <script>
            const input = document.getElementById("an");
            input.addEventListener("input", () => input.value = formatNumber(input.value.replaceAll(" ", "")));
            const formatNumber = (number) => number.split("").reduce((seed, next, index) => {
                if (index !== 0 && !(index % 4)) seed += " ";
                return seed + next;
            }, "");
        </script>
        
        <script>
            var loadFile = function (event) {
                var reader = new FileReader();
                reader.onload = function () {
                    var output = document.getElementById('img');
                    output.src = reader.result;
                };
                reader.readAsDataURL(event.target.files[0]);
            };
        </script>
        
        <script>
            function goToTop() {
                document.body.scrollTop = 0; // For Safari
                document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE, and Opera
            }
        
            function bankdisplay() {
                var e = document.getElementById("dropId").value;
                if (e == 0) {
                    document.getElementById("bank").style.display = 'none'
                    document.getElementById("acc_no").value = ''
                    document.getElementById("ifsc").value = ''
                    document.getElementById("b_name").value = ''
                    document.getElementById("branch").value = ''
                    document.getElementById("ttype").value = ''
                }
                else {
                    document.getElementById("bank").style.display = 'block'
                }
            }
        
            function salFunction() {
                var e = document.getElementById("sal");
                var sal = e.value;
                if (sal == 'Fixed' || sal == 'Temporary') {
                    document.getElementById("fixed").style.display = 'block'
                    document.getElementById("variable").style.display = 'none'
                    document.getElementById("amnthr").value = 0
                    document.getElementById("hours").value = 0
                    document.getElementById("vsalary").value = 0
                }
                else if (sal == 'Variable') {
                    document.getElementById("variable").style.display = 'block'
                    document.getElementById("fixed").style.display = 'none'
                    document.getElementById("fsalary").value = 0
                }
            }
        
            function calculateAmount() {
                var a = document.getElementById("amnthr").value;
                var h = document.getElementById("hours").value;
                var tot = h * a;
                document.getElementById('vsalary').value = tot;
            }
        
            function tdsFunction() {
                var e = document.getElementById("tds");
                var sal = e.value;
                if (sal == '1') {
                    document.getElementById("tds-div").style.display = 'block'
                }
                else {
                    document.getElementById("tds-div").style.display = 'none'
                    document.getElementById("pora").value = 0
                    document.getElementById("pcnt").value = 0
                    document.getElementById("amnt").value = 0
                }
            }
        
            function tdsFunction2() {
                var e = document.getElementById("pora");
                var sal = e.value;
                if (sal == 'Percentage') {
                    document.getElementById("p").style.display = 'block';
                    document.getElementById("a").style.display = 'none';
                    document.getElementById("amnt").value = 0
                }
                else if (sal == 'Amount') {
                    document.getElementById("a").style.display = 'block';
                    document.getElementById("p").style.display = 'none'
                    document.getElementById("pcnt").value = 0
                }
            }
        
            function emailvalidate() {
                var email = document.getElementById('email')
                var error = document.getElementById('error')
                if (!email.value.match(/^[A-Za-z\._\-0-9]*[@][A-Za-z]*[\.][a-z]{2,4}$/)) {
                    error.style.fontSize = ".8rem"
                    error.innerHTML = "*Please enter a valid email"
                    return false;
                }
                error.innerHTML = ""
                return true;
            }
        
            function phoneValidate(phn, pherror) {
                if (!phn.value.match(/^[6-9]\d{9}$/)) {
                    pherror.style.display = "block"
                    pherror.style.fontSize = ".8rem"
                    pherror.innerHTML = "*Please enter a valid phone number"
                    return false;
                }
                pherror.style.display = "none"
                pherror.innerHTML = ""
                return true;
            }
        
            function empValidation(emp) {
                emp.addEventListener("input", function () {
                    emp.value = emp.value.toUpperCase();
                });
            }
        
            inputvalue = document.getElementById('ifsc')
            inputvalue.addEventListener("input", function () {
                inputvalue.value = inputvalue.value.toUpperCase();
            });
            const inputFields = document.querySelectorAll("input[type='text']");
            inputFields.forEach(function (input) {
                input.addEventListener("input", function () {
                    const inputValue = input.value;
                    input.value = inputValue.charAt(0).toUpperCase() + inputValue.slice(1);
                });
            });
        
            document.getElementById("an").addEventListener("input", function () {
                const input = this.value;
                if (input.length > 14) {
                    this.value = input.slice(0, 14);
                }
            });
        
            document.getElementById("acc_no").addEventListener("input", function () {
                const input = this.value;
                if (input.length > 15) {
                    this.value = input.slice(0, 15);
                }
            });
        
            $(document).ready(function () {
                $("#filladdress").on("click", function () {
                    if (this.checked) {
                        $("#adrs1").val($("#padrs1").val());
                        $("#adrs2").val($("#padrs2").val());
                    }
                    else {
                        $("#adrs1").val('');
                        $("#adrs2").val('');
                    }
                });
            });
        
            
            function clearaddreass(id){
                document.getElementById('filladdress').checked = false
                if(id == 'padrs1' || id == 'padrs2'){
                    $("#adrs1").val('');
                    $("#adrs2").val('');
                }
            }
        </script>
        

    </div>
</div>



<script>
    // Function to make the alert blink
    function blink() {
        $('#alertMessage').fadeOut(1000).fadeIn(1000, blink);
    }

    // Call the blink function when the page loads
    $(document).ready(function() {
        blink();
    });
</script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script>
    {% for msg in messages %}
    swal({
    title: "{{msg}}",
    text: "{{msg.tags}}",
    icon: "{{msg.tags}}",
  });
    {% endfor %}
   </script>

{% endblock %}
